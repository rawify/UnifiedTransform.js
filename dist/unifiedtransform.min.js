/*
UnifiedTransform v0.3.2 10/28/2024
https://github.com/rawify/UnifiedTransform.js

Copyright (c) 2024, Robert Eisele (https://raw.org/)
Licensed under the MIT license.
*/
'use strict';(function(t){function e(){this.matrix=[1,0,0,1,0,0]}const g=2*Math.PI;e.prototype={translate:function(b,c){return this.applyMatrix([1,0,0,1,parseFloat(String(b).replace("px",""))||0,parseFloat(String(c).replace("px",""))||0])},scale:function(b,c=null){null===c&&(c=b);return this.applyMatrix([parseFloat(b)||1,0,0,parseFloat(c)||1,0,0])},rotate:function(b,c,d){"string"==typeof b?-1!==b.indexOf("rad")?(b=b.replace("rad",""),b=parseFloat(b)):(b=b.replace("deg",""),b=parseFloat(b)/360*g):
b=b/360*g;let a=Math.cos(b);b=Math.sin(b);void 0!==c&&this.translate(c,d||0);this.applyMatrix([a,b,-b,a,0,0]);return void 0!==c?this.translate(-c,-(d||0)):this},skewX:function(b){return this.applyMatrix([1,0,Math.tan(parseFloat(b)/360*g),1,0,0])},skewY:function(b){return this.applyMatrix([1,Math.tan(parseFloat(b)/360*g),0,1,0,0])},applyMatrix:function(b){let [c,d,a,f,h,k]=this.matrix,[l,m,n,p,q,r]=b.map(parseFloat);this.matrix=[c*l+a*m,d*l+f*m,c*n+a*p,d*n+f*p,c*q+a*r+h,d*q+f*r+k];return this},transform:function(b){for(let c of[...b.matchAll(/(matrix|translate|translateX|translateY|scale|rotate|skewX|skewY)\s*\(([^)]+)\)/g)]){let [,
d,a]=c;a=a.trim().split(/[\s,]+/);switch(d){case "matrix":6===a.length&&this.applyMatrix(a);break;case "translate":1===a.length?this.translate(a[0],0):2===a.length&&this.translate(a[0],a[1]);break;case "translateX":this.translate(a[0],0);break;case "translateY":this.translate(0,a[0]);break;case "scale":1===a.length?this.scale(a[0],a[0]):2===a.length&&this.scale(a[0],a[1]);break;case "rotate":1===a.length?this.rotate(a[0],0,0):3===a.length&&this.rotate(a[0],a[1],a[2]);break;case "skewX":1===a.length&&
this.skewX(a[0]);break;case "skewY":1===a.length&&this.skewY(a[0])}}return this},eval:function(b,c){const d=this.matrix;return[b*d[0]+c*d[2]+d[4],b*d[1]+c*d[3]+d[5]]},toMatrix:function(b=!1){const [c,d,a,f,h,k]=this.matrix;return b?[[c,a,h],[d,f,k],[0,0,1]]:[c,a,h,d,f,k,0,0,1]},toTransformString:function(){return"matrix("+this.matrix.join(", ")+")"}};"function"===typeof define&&define.amd?define([],function(){return e}):"object"===typeof exports?(Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=
e,e.UnifiedTransform=e,module.exports=e):t.UnifiedTransform=e})(this);
