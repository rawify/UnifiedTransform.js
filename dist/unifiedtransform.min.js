/*
UnifiedTransform v0.2.0 10/6/2024
https://github.com/rawify/UnifiedTransform.js

Copyright (c) 2024, Robert Eisele (https://raw.org/)
Licensed under the MIT license.
*/
'use strict';(function(g){function f(){this.matrix=[1,0,0,1,0,0]}const e=2*Math.PI;f.prototype={translate:function(a,c){return this.applyMatrix([1,0,0,1,parseFloat(String(a).replace("px",""))||0,parseFloat(String(c).replace("px",""))||0])},scale:function(a,c=null){null===c&&(c=a);return this.applyMatrix([parseFloat(a)||1,0,0,parseFloat(c)||1,0,0])},rotate:function(a,c,d){"string"==typeof a?-1!==a.indexOf("rad")?(a=a.replace("rad",""),a=parseFloat(a)):(a=a.replace("deg",""),a=parseFloat(a)/360*e):
a=a/360*e;let b=Math.cos(a);a=Math.sin(a);void 0!==c&&this.translate(c,d||0);this.applyMatrix([b,a,-a,b,0,0]);return void 0!==c?this.translate(-c,-(d||0)):this},skewX:function(a){return this.applyMatrix([1,0,Math.tan(parseFloat(a)/360*e),1,0,0])},skewY:function(a){return this.applyMatrix([1,Math.tan(parseFloat(a)/360*e),0,1,0,0])},transform:function(a){for(let c of[...a.matchAll(/(matrix|translate|translateX|translateY|scale|rotate|skewX|skewY)\s*\(([^)]+)\)/g)]){let [,d,b]=c;b=b.trim().split(/[\s,]+/);
switch(d){case "matrix":6===b.length&&this.applyMatrix(b);break;case "translate":1===b.length?this.translate(b[0],0):2===b.length&&this.translate(b[0],b[1]);break;case "translateX":this.translate(b[0],0);break;case "translateY":this.translate(0,b[0]);break;case "scale":1===b.length?this.scale(b[0],b[0]):2===b.length&&this.scale(b[0],b[1]);break;case "rotate":1===b.length?this.rotate(b[0],0,0):3===b.length&&this.rotate(b[0],b[1],b[2]);break;case "skewX":1===b.length&&this.skewX(b[0]);break;case "skewY":1===
b.length&&this.skewY(b[0])}}return this},eval:function(a,c){const d=this.matrix;return[a*d[0]+c*d[2]+d[4],a*d[1]+c*d[3]+d[5]]}};g.UnifiedTransform=f})(this);
